module.exports = function applyOptions(newOpts) {
    if (!(newOpts instanceof Object))
    {
        console.trace();
        throw 'TypeError: Options must be object';
    }

    var opts = Object.keys(newOpts);
    for (var i = 0, numOpts = opts.length; i < numOpts; i++)
    {
        var key = opts[i];
        if (key in this)
        {
            this[key] = newOpts[key];
        } else
        {
            console.error('Invalid option for ' + this.constructor.name + ': ' + key);
        }
    }

    return this;
};
